<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitleTag">WMS | Gestão de Armazém</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <link rel="stylesheet" href="styles/wms.css">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo-area">
                <span class="material-icons-round" style="font-size: 1.5rem;">warehouse</span>
                <h1 id="wmsTitle" style="font-size: 1.25rem;">WMS</h1>
            </div>

            <nav class="nav-menu">
                <!-- Dashboard -->
                <a class="nav-item active" onclick="switchView('dashboard')">
                    <span class="material-icons-round">dashboard</span>
                    <span>Visão Geral</span>
                </a>

                <!-- 1. CADASTROS -->
                <div class="nav-group">
                    <a class="nav-item" onclick="toggleSubmenu('sub-cadastros')">
                        <span class="material-icons-round">edit_note</span>
                        <span>Cadastros</span>
                        <span class="material-icons-round"
                            style="font-size:1.2rem; margin-left:auto;">expand_more</span>
                    </a>
                    <div id="sub-cadastros" class="nav-submenu">
                        <div class="nav-sublevel-title">Gerais</div>
                        <a class="nav-sub-item" onclick="switchView('cad-usuarios')">Usuário</a>
                        <a class="nav-sub-item" onclick="switchView('cad-perfil-senha')">Perfil de Seg. de Senha</a>
                        <a class="nav-sub-item" onclick="switchView('cad-tipo-empresa')">Tipo de Empresa</a>
                        <a class="nav-sub-item" onclick="switchView('cad-filial')">Filial</a>
                        <a class="nav-sub-item" onclick="switchView('cad-cliente')">Cliente</a>
                        <a class="nav-sub-item" onclick="switchView('cad-fornecedor')">Fornecedor</a>
                        <a class="nav-sub-item" onclick="switchView('cad-setor')">Setor Executante</a>
                        <a class="nav-sub-item" onclick="switchView('cad-contato')">Contato</a>
                        <a class="nav-sub-item" onclick="switchView('cad-etiquetas')">Etiquetas</a>
                        <a class="nav-sub-item" onclick="switchView('cad-motivo-transf')">Motivo de Transferência</a>

                        <div class="nav-sublevel-title">Produtos</div>
                        <a class="nav-sub-item" onclick="switchView('cad-prod-grupo')">Grupo</a>
                        <a class="nav-sub-item" onclick="switchView('cad-prod-subgrupo')">Sub-Grupo</a>
                        <a class="nav-sub-item" onclick="switchView('cad-prod-familia')">Família</a>
                        <a class="nav-sub-item" onclick="switchView('cad-prod-cadastro')">Cadastro de Produto</a>

                        <div class="nav-sublevel-title">Endereços</div>
                        <a class="nav-sub-item" onclick="switchView('cad-end-tipo')">Tipo de Endereço</a>
                        <a class="nav-sub-item" onclick="switchView('cad-end-cadastro')">Endereçamento</a>

                        <div class="nav-sublevel-title">Recepção</div>
                        <a class="nav-sub-item" onclick="switchView('cad-rec-tipo-nf')">Tipo de NF</a>
                        <a class="nav-sub-item" onclick="switchView('cad-rec-regras')">Regras de Recebimento</a>

                        <div class="nav-sublevel-title">Expedição</div>
                        <a class="nav-sub-item" onclick="switchView('cad-exp-doca')">Docas</a>
                        <a class="nav-sub-item" onclick="switchView('cad-exp-transportadora')">Transportadora</a>

                        <div class="nav-sublevel-title">Ordem de Serviço</div>
                        <a class="nav-sub-item" onclick="switchView('cad-os-tipo')">Tipo de OS</a>
                        <a class="nav-sub-item" onclick="switchView('cad-os-prioridade')">Prioridade</a>
                    </div>
                </div>

                <!-- 2. RELATÓRIOS MANUTENÇÃO -->
                <div class="nav-group">
                    <a class="nav-item" onclick="toggleSubmenu('sub-rel-manutencao')">
                        <span class="material-icons-round">build</span>
                        <span>Rel. Manutenção</span>
                        <span class="material-icons-round"
                            style="font-size:1.2rem; margin-left:auto;">expand_more</span>
                    </a>
                    <div id="sub-rel-manutencao" class="nav-submenu">
                        <a class="nav-sub-item" onclick="switchView('relm-endereco-vazio')">Endereços Vazios</a>
                        <a class="nav-sub-item" onclick="switchView('relm-endereco-bloqueado')">Endereços Bloqueados</a>
                        <a class="nav-sub-item" onclick="switchView('relm-produto-sem-end')">Produtos sem Endereço</a>
                        <a class="nav-sub-item" onclick="switchView('relm-curva-abc')">Curva ABC</a>
                        <a class="nav-sub-item" onclick="switchView('relm-ocupacao')">Ocupação por Rua</a>
                        <a class="nav-sub-item" onclick="switchView('relm-parametros')">Parâmetros de Armazenagem</a>
                        <a class="nav-sub-item" onclick="switchView('relm-auditoria-cadastro')">Auditoria de
                            Cadastros</a>
                    </div>
                </div>

                <!-- 3. RELATÓRIOS OPERAÇÃO -->
                <div class="nav-group">
                    <a class="nav-item" onclick="toggleSubmenu('sub-rel-operacao')">
                        <span class="material-icons-round">assessment</span>
                        <span>Rel. Operação</span>
                        <span class="material-icons-round"
                            style="font-size:1.2rem; margin-left:auto;">expand_more</span>
                    </a>
                    <div id="sub-rel-operacao" class="nav-submenu">
                        <a class="nav-sub-item" onclick="switchView('relo-recebimento')">Recebimentos do Dia</a>
                        <a class="nav-sub-item" onclick="switchView('relo-armazenagem')">Armazenagens Pendentes</a>
                        <a class="nav-sub-item" onclick="switchView('relo-separacao')">Separações do Dia</a>
                        <a class="nav-sub-item" onclick="switchView('relo-expedicao')">Expedições do Dia</a>
                        <a class="nav-sub-item" onclick="switchView('relo-produtividade')">Produtividade Operador</a>
                        <a class="nav-sub-item" onclick="switchView('relo-divergencias')">Divergências</a>
                        <a class="nav-sub-item" onclick="switchView('relo-movimentacao')">Movimentação (Kardex)</a>
                    </div>
                </div>

                <!-- 4. ENTRADA DE PRODUTOS -->
                <div class="nav-group">
                    <a class="nav-item" onclick="toggleSubmenu('sub-entrada')">
                        <span class="material-icons-round">move_to_inbox</span>
                        <span>Entrada de Produtos</span>
                        <span class="material-icons-round"
                            style="font-size:1.2rem; margin-left:auto;">expand_more</span>
                    </a>
                    <div id="sub-entrada" class="nav-submenu">
                        <a class="nav-sub-item" onclick="switchView('ent-agendamento')">Agendamento de Doca</a>
                        <a class="nav-sub-item" onclick="switchView('ent-recebimento')">Recebimento de NF</a>
                        <a class="nav-sub-item" onclick="switchView('ent-conferencia')">Conferência</a>
                        <a class="nav-sub-item" onclick="switchView('ent-armazenagem')">Armazenagem (Putaway)</a>
                        <a class="nav-sub-item" onclick="switchView('ent-devolucao')">Devolução de Cliente</a>
                    </div>
                </div>

                <!-- 5. ESTOQUE -->
                <div class="nav-group">
                    <a class="nav-item" onclick="toggleSubmenu('sub-estoque')">
                        <span class="material-icons-round">inventory_2</span>
                        <span>Estoque</span>
                        <span class="material-icons-round"
                            style="font-size:1.2rem; margin-left:auto;">expand_more</span>
                    </a>
                    <div id="sub-estoque" class="nav-submenu">
                        <a class="nav-sub-item" onclick="switchView('est-consulta')">Consulta de Estoque</a>
                        <a class="nav-sub-item" onclick="switchView('est-endereco')">Consulta por Endereço</a>
                        <a class="nav-sub-item" onclick="switchView('est-transferencia')">Transferência de Endereço</a>
                        <a class="nav-sub-item" onclick="switchView('est-bloqueio')">Bloqueio / Quarentena</a>
                        <a class="nav-sub-item" onclick="switchView('est-inventario')">Inventário</a>
                        <a class="nav-sub-item" onclick="switchView('est-ajuste')">Ajuste de Estoque</a>
                    </div>
                </div>

                <!-- 6. SAÍDA DE PRODUTOS -->
                <div class="nav-group">
                    <a class="nav-item" onclick="toggleSubmenu('sub-saida')">
                        <span class="material-icons-round">local_shipping</span>
                        <span>Saída de Produtos</span>
                        <span class="material-icons-round"
                            style="font-size:1.2rem; margin-left:auto;">expand_more</span>
                    </a>
                    <div id="sub-saida" class="nav-submenu">
                        <a class="nav-sub-item" onclick="switchView('sai-ondas')">Formação de Ondas</a>
                        <a class="nav-sub-item" onclick="switchView('sai-separacao')">Separação (Picking)</a>
                        <a class="nav-sub-item" onclick="switchView('sai-conferencia')">Conferência de Saída</a>
                        <a class="nav-sub-item" onclick="switchView('sai-embalagem')">Embalagem (Packing)</a>
                        <a class="nav-sub-item" onclick="switchView('sai-romaneio')">Romaneio</a>
                        <a class="nav-sub-item" onclick="switchView('sai-expedicao')">Expedição</a>
                    </div>
                </div>

                <!-- 7. AUDITORIA -->
                <div class="nav-group">
                    <a class="nav-item" onclick="toggleSubmenu('sub-auditoria')">
                        <span class="material-icons-round">policy</span>
                        <span>Auditoria</span>
                        <span class="material-icons-round"
                            style="font-size:1.2rem; margin-left:auto;">expand_more</span>
                    </a>
                    <div id="sub-auditoria" class="nav-submenu">
                        <a class="nav-sub-item" onclick="switchView('aud-inventario')">Inventário Cíclico</a>
                        <a class="nav-sub-item" onclick="switchView('aud-contagem')">Contagem Rotativa</a>
                        <a class="nav-sub-item" onclick="switchView('aud-divergencias')">Divergências</a>
                        <a class="nav-sub-item" onclick="switchView('aud-rastreio')">Rastreabilidade (Kardex)</a>
                        <a class="nav-sub-item" onclick="switchView('aud-log')">Log de Operações</a>
                    </div>
                </div>

                <!-- 8. CONFIGURAÇÕES -->
                <div class="nav-group">
                    <a class="nav-item" onclick="toggleSubmenu('sub-config')">
                        <span class="material-icons-round">settings</span>
                        <span>Configurações</span>
                        <span class="material-icons-round"
                            style="font-size:1.2rem; margin-left:auto;">expand_more</span>
                    </a>
                    <div id="sub-config" class="nav-submenu">
                        <a class="nav-sub-item" onclick="switchView('cfg-geral')">Gerais</a>
                        <a class="nav-sub-item" onclick="switchView('cfg-armazenagem')">Regras de Armazenagem</a>
                        <a class="nav-sub-item" onclick="switchView('cfg-separacao')">Regras de Separação</a>
                        <a class="nav-sub-item" onclick="switchView('cfg-etiqueta')">Layout de Etiqueta</a>
                        <a class="nav-sub-item" onclick="switchView('cfg-integracao')">Integrações</a>
                    </div>
                </div>
            </nav>

            <div class="sidebar-footer">
                <div style="display:flex; align-items:center; gap:0.5rem;">
                    <span class="material-icons-round" style="color:var(--text-secondary)">person</span>
                    <div style="display:flex; flex-direction:column;">
                        <span id="userName" style="font-size:0.85rem; font-weight:600;">Usuário</span>
                        <span id="userTenant" style="font-size:0.7rem; color:var(--text-secondary)">Tenant</span>
                    </div>
                </div>
                <a href="../../index.html" style="color:var(--accent-danger); text-decoration:none;" title="Sair">
                    <span class="material-icons-round">logout</span>
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Top Bar -->
            <header class="top-bar">
                <div class="breadcrumb">
                    <span class="text-secondary" id="breadParent">WMS</span> / <span class="current"
                        id="pageTitle">Visão Geral</span>
                </div>
            </header>

            <div class="content-wrapper">
                <!-- View: Dashboard -->
                <div id="view-dashboard" class="page-content"></div>

                <!-- Views: Endereçamento (used by locations.js) -->
                <div id="view-locations" class="page-content" style="display:none;"></div>

                <!-- Views: Recebimento (used by inbound.js) -->
                <div id="view-inbound" class="page-content" style="display:none;"></div>

                <!-- Generic dynamic view container -->
                <div id="view-dynamic" class="page-content" style="display:none;"></div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>

    <script src="js/wms-integration.js"></script>
    <script src="js/wms-core.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/locations.js"></script>
    <script src="js/etiquetas.js"></script>
    <script src="js/inbound.js"></script>
    <script src="js/estoque.js"></script>
    <script src="js/entrada.js"></script>
    <script src="js/saida.js"></script>
    <script src="js/controle.js"></script>
    <script src="js/relatorios.js"></script>
    <script src="js/cadastros.js"></script>
    <script src="js/configuracoes.js"></script>
    <script src="js/relmanutencao.js"></script>
</body>

</html>