<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0f172a">
    <title>Força de Vendas | Parreira</title>
    <link rel="manifest" href="manifest.json">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <link rel="stylesheet" href="styles/fv.css">
</head>

<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="screen active">
        <div class="login-container">
            <div class="login-icon">
                <span class="material-icons-round">phone_android</span>
            </div>
            <h1>Força de Vendas</h1>
            <p class="subtitle">Parreira Sistemas</p>
            <div class="login-form">
                <div class="input-group">
                    <span class="material-icons-round input-icon">person</span>
                    <input type="text" id="loginUser" placeholder="Código do vendedor" autocomplete="off">
                </div>
                <div class="input-group">
                    <span class="material-icons-round input-icon">lock</span>
                    <input type="password" id="loginPass" placeholder="Senha" autocomplete="off">
                </div>
                <button class="btn-primary btn-lg" onclick="doLogin()">
                    <span class="material-icons-round">login</span> Entrar
                </button>
                <div class="login-hint">Vendedor: <strong>32</strong> | Senha: <strong>1234</strong></div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="screen">
        <!-- Top Bar -->
        <header class="topbar">
            <div class="topbar-left">
                <span class="material-icons-round" id="menuBtn" onclick="toggleDrawer()">menu</span>
                <h2 id="screenTitle">Home</h2>
            </div>
            <div class="topbar-right">
                <div class="sync-indicator" id="syncIndicator" onclick="navigateTo('sync')">
                    <span class="material-icons-round">cloud_done</span>
                </div>
                <div class="avatar" id="userAvatar">V</div>
            </div>
        </header>

        <!-- Side Drawer -->
        <div class="drawer-overlay" id="drawerOverlay" onclick="toggleDrawer()"></div>
        <nav class="drawer" id="drawer">
            <div class="drawer-header">
                <div class="drawer-avatar">V</div>
                <div>
                    <div class="drawer-name" id="drawerName">Vendedor</div>
                    <div class="drawer-role">Força de Vendas</div>
                </div>
            </div>
            <div class="drawer-menu">
                <button class="drawer-item active" data-view="dashboard" onclick="navigateTo('dashboard')">
                    <span class="material-icons-round">dashboard</span> Home
                </button>
                <button class="drawer-item" data-view="pedidos" onclick="navigateTo('pedidos')">
                    <span class="material-icons-round">receipt_long</span> Pedidos
                    <span class="badge-drawer" id="badgePedidos"></span>
                </button>
                <button class="drawer-item" data-view="clientes" onclick="navigateTo('clientes')">
                    <span class="material-icons-round">people</span> Clientes
                    <span class="badge-drawer" id="badgeClientes"></span>
                </button>
                <div class="drawer-divider"></div>
                <button class="drawer-item" data-view="sync" onclick="navigateTo('sync')">
                    <span class="material-icons-round">sync</span> Sincronização
                </button>
                <div class="drawer-divider"></div>
                <button class="drawer-item" onclick="doLogout()">
                    <span class="material-icons-round">logout</span> Sair
                </button>
            </div>
        </nav>

        <!-- Content Area -->
        <main class="content" id="contentArea">
            <!-- Dashboard / Home -->
            <section id="view-dashboard" class="view active"></section>

            <!-- Pedidos -->
            <section id="view-pedidos" class="view"></section>

            <!-- Clientes -->
            <section id="view-clientes" class="view"></section>

            <!-- Detalhe do Cliente -->
            <section id="view-clienteDetalhe" class="view"></section>

            <!-- Novo Pedido -->
            <section id="view-novoPedido" class="view"></section>

            <!-- Sincronização -->
            <section id="view-sync" class="view"></section>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav" id="bottomNav">
            <button class="bottom-nav-item active" data-view="dashboard" onclick="navigateTo('dashboard')">
                <span class="material-icons-round">dashboard</span>
                <span>Home</span>
            </button>
            <button class="bottom-nav-item" data-view="pedidos" onclick="navigateTo('pedidos')">
                <span class="material-icons-round">receipt_long</span>
                <span>Pedidos</span>
            </button>
            <button class="bottom-nav-item fab" onclick="iniciarNovoPedido()">
                <span class="material-icons-round">add</span>
            </button>
            <button class="bottom-nav-item" data-view="clientes" onclick="navigateTo('clientes')">
                <span class="material-icons-round">people</span>
                <span>Clientes</span>
            </button>
            <button class="bottom-nav-item" data-view="sync" onclick="navigateTo('sync')">
                <span class="material-icons-round">sync</span>
                <span>Sync</span>
            </button>
        </nav>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Scripts -->
    <script src="js/fv-core.js"></script>
    <script src="js/fv-screens.js"></script>

    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js').then(() => console.log('SW registered'));
        }
    </script>
</body>

</html>